<div class="bonifico-container">
  <div class="bonifico-card">
    <div class="card-header">
      <div class="card-deco-circle top-left"></div>
      <div class="card-deco-circle bottom-right"></div>
      <h2>Effettua Bonifico</h2>
    </div>

    <div *ngIf="message" class="success">{{ message }}</div>
    <div *ngIf="error" class="error">{{ error }}</div>

    <form [formGroup]="bonificoForm" (ngSubmit)="onSubmit()">

      <label for="ibanDestinatario">IBAN Destinatario</label>
      <input type="text" id="ibanDestinatario" formControlName="ibanDestinatario" placeholder="DE12 5001 0517 0648 4898 90" />
      <div *ngIf="f['ibanDestinatario'].invalid && (f['ibanDestinatario'].touched || f['ibanDestinatario'].dirty)" class="error">
        IBAN obbligatorio (15-34 caratteri)
      </div>

      <label for="importo">Importo (€)</label>
      <input type="number" id="importo" formControlName="importo" placeholder="Inserisci importo" />
      <div *ngIf="f['importo'].invalid && (f['importo'].touched || f['importo'].dirty)" class="error">
        Inserisci un importo valido (>0)
      </div>

      <label for="descrizione">Descrizione</label>
      <input type="text" id="descrizione" formControlName="descrizione" placeholder="Causale bonifico (opzionale)" />
      <div *ngIf="f['descrizione'].invalid && (f['descrizione'].touched || f['descrizione'].dirty)" class="error">
        La descrizione è obbligatoria
      </div>

      <button type="submit" [disabled]="loading || bonificoForm.invalid">
        {{ loading ? 'Invio...' : 'Esegui Bonifico' }}
      </button>
    </form>
  </div>
</div>
