<div class="profilo-container">
  <div class="profilo-card">
    <div class="profilo-header">
      <img
        src="assets/profilo_con_sfondo2-removebg-preview.png"
        alt="Profilo"
        class="profilo-img"
      />
      <h2>{{ profilo?.nomeTitolare }} {{ profilo?.cognomeTitolare }}</h2>
    </div>

    <div *ngIf="message" class="alert success">{{ message }}</div>
    <div *ngIf="error" class="alert error">{{ error }}</div>
    <div class="form-group">
      <label for="Email">Email</label>
      <input type="email" id="Email" [value]="profilo?.email" readonly />
    </div>

    <div class="form-group">
      <label for="CognomeTitolare">Cognome</label>
      <input type="text" id="CognomeTitolare" [value]="profilo?.cognomeTitolare" readonly />
    </div>

    <div class="form-group">
      <label for="NomeTitolare">Nome</label>
      <input type="text" id="NomeTitolare" [value]="profilo?.nomeTitolare" readonly />
    </div>

    <div class="form-group">
      <label for="DataApertura">Data Apertura</label>
      <input
        type="date"
        id="DataApertura"
        [value]="profilo?.dataApertura | date:'yyyy-MM-dd'"
        readonly
      />
    </div>

    <div class="form-group">
      <label for="IBAN">IBAN</label>
      <input type="text" id="IBAN" [value]="profilo?.iban" readonly />
    </div>
    <form [formGroup]="passwordForm" (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="newPassword">Nuova Password</label>
        <input
          type="password"
          id="newPassword"
          formControlName="newPassword"
          placeholder="Inserisci nuova password"
        />
      </div>

      <button type="submit" [disabled]="loading">
        {{ loading ? 'Aggiornamento...' : 'Cambia Password' }}
      </button>
    </form>
  </div>
</div>
